<UserControl x:Class="Labb03_GUI.Views.MenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Labb03_GUI.Views"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <Grid.Resources>
            <Style TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
                <Setter Property="FontSize" Value="15" />
            </Style>
        </Grid.Resources>
        
        <DockPanel>
            <Menu DockPanel.Dock="Top">
                <MenuItem Header="_File">
                    <MenuItem 
                        Header="_New Question Pack"
                        Command="{Binding MenuViewModel.OpenCreateDialogCommand}"
                        InputGestureText="Ctrl+N">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE82E;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <MenuItem Header="S_elect Question Pack"
                              ItemsSource="{Binding Packs}"
                              IsEnabled="{Binding MenuViewModel.HasActivePack}">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE82D;"/>
                        </MenuItem.Icon>
                        <MenuItem.ItemContainerStyle>
                            <Style TargetType="MenuItem">
                                <Setter Property="Header" Value="{Binding Name}"/>
                                <Setter Property="Command" Value="{Binding DataContext.MenuViewModel.SetActivePackCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"/>
                                <Setter Property="CommandParameter" Value="{Binding}" />
                                <Setter Property="IsCheckable" Value="True"/>
                                <Setter Property="IsChecked" Value="{Binding IsActive, Mode=OneWay}"/>
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    
                    <MenuItem 
                        Header="_Delete Question Pack"
                        Command="{Binding MenuViewModel.DeleteActivePackCommand}"
                        InputGestureText="Delete">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE750;" />
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <Separator />
                    
                    <MenuItem 
                        Header="_Import Questions"
                        Command="{Binding MenuViewModel.OpenImportDialogCommand}"
                        InputGestureText="Ctrl+I">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xEA52;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <Separator />
                    
                    <MenuItem 
                        Header="E_xit"
                        Command="{Binding ExitApplicationCommand}"
                        InputGestureText="Alt+F4">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xEF2C;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="_Edit">
                    <MenuItem 
                        Header="_Add Question"
                        Command="{Binding ConfigurationViewModel.AddQuestionCommand}"
                        InputGestureText="Ctrl+Q">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE710;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <MenuItem 
                        Header="_Remove Question"
                        Command="{Binding ConfigurationViewModel.RemoveQuestionCommand}"
                        CommandParameter="{Binding ConfigurationViewModel.SelectedQuestion}"
                        InputGestureText="Ctrl+Delete">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE738;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <Separator/>
                    
                    <MenuItem 
                        Header="Pack _Options"
                        Command="{Binding MenuViewModel.OpenOptionsDialogCommand}"
                        InputGestureText="Ctrl+O">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE713;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="_View">
                    <MenuItem 
                        Header="_Play"
                        Command="{Binding OpenPlayerViewCommand}"
                        InputGestureText="Ctrl+P">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xEDB5;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <MenuItem 
                        Header="_Edit"
                        Command="{Binding OpenConfigViewCommand}"
                        InputGestureText="Ctrl+E">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xED58;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    
                    <Separator/>
                    
                    <MenuItem 
                        Header="_Fullscreen"
                        Click="Fullscreen_Click"
                        InputGestureText="F11">
                        <MenuItem.Icon>
                            <TextBlock Text="&#xE740;"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
            </Menu>
        </DockPanel>
    </Grid>
</UserControl>
